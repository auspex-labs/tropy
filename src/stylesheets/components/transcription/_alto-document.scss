@use "../../abstracts/config" as *;

//
// Transcription
// --------------------------------------------------

.alto-document {
  flex: 1 1 auto;
  font-family: $font-family-monospace;
  font-size: $editor-font-size;
  line-height: normal;
  padding-block: min(10cqh, #{$editor-padding});
  height: fit-content; // Stretch container
  min-height: 100cqh; // Stretch container

  .text-line {
    display: flex;
    margin-bottom: 2px;
  }

  .start-line {
    flex: 0 0 auto;
    background-color: rgba(0, 0, 0, 0.04);
    width: 10cqw; // Stretch container
  }

  .string {
    flex: 0 0 auto;
    padding: calc(1ch / 6 + 0.25ch);
    border-radius: 3px;

    &.selected {
      background-color: $string-selected-bg;

      .esper:focus-within & {
        color: $string-selected-focus-color;
        background-color: $string-selected-focus-bg;
      }
    }

    & + .string {
      margin-left: 2px;
    }
  }

  .end-line {
    flex: 1 0 auto;
    width: 10cqw; // Stretch container
    background-color: rgba(0, 0, 0, 0.04);
  }

  // Debugging
  .outline-all,
  .outline-string,
  .outline-line,
  .outline-text-block {
    outline: 3px solid if($theme == light, #222, #bbb);
  }
}
